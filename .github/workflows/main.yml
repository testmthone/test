name: Deploy Portfolio Project

on:
  push:
    branches: [ main, master ]

jobs:
  deploy:
    runs-on: self-hosted
    
    steps:
      - name: Deploy Project
        run: |
          # set -e: herhangi bir komut hata verirse script'i anÄ±nda durdurur (gÃ¼venlik iÃ§in)
          set -e
          
          echo "ğŸš€ Deployment basliyor..."
          
          # Projenin sunucudaki tam yoluna gidiyoruz
          # NOT: Bu klasÃ¶rÃ¼n sunucuda var olduÄŸundan emin olun!
          cd /var/www/portfolio
          
          echo "ğŸ“¥ Guncellemeler GitHub'dan cekiliyor..."
          git pull origin main
          
          echo "ğŸ”§ Deployment betigi calistiriliyor..."
          # EÄŸer projenizde deploy.sh dosyasÄ± varsa bu satÄ±rlar kalmalÄ±
          chmod +x deploy.sh
          ./deploy.sh
          
          echo "âœ… Deployment tamamlandi!"
